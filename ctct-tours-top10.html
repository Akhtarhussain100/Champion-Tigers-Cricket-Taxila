<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>CTCT Weekly Series Top 10</title>

<!-- ============================
   BLOCK: CSS STYLES START
============================ -->
<style>
/* BLOCK: GLOBAL BODY STYLES */
*{box-sizing:border-box}
body{
  font-family: Arial, sans-serif;
  margin:0; padding:0;
  background:#f9f9f9; color:#333;
  padding-bottom:80px; /* space for bottom nav */
}

/* BLOCK: HEADER STYLES (unchanged look, only text updated) */
header{
  background:linear-gradient(90deg,#039591,#ffb703);
  color:#fff; text-align:center;
  padding:1rem; font-size:1.5rem; font-weight:bold; letter-spacing:1px;
  position:sticky; top:0; z-index:10;
}

/* --- Gradient title band used under header for each table --- */
.band{
  background:linear-gradient(90deg,#039591,#039591);
  color:#fff; text-align:center; font-weight:800;
  padding:.5rem 1rem; border-radius:8px;
  box-shadow:0 4px 12px rgba(0,0,0,0.15), inset 0 -2px 4px rgba(255,255,255,.2);
  margin: 0 14px 12px 14px;
}

/* BLOCK: TABLE CONTAINER (card look per table) */
.table-card{
  margin: 0 14px 26px 14px;            /* side margins so ‚Äúchapak‚Äù na lage */
  background:#fff; border-radius:8px;
  border:2px solid #039591;
  box-shadow:0px 4px 12px rgba(0,0,0,0.3);
  overflow:auto; /* enable inner scroll if needed */
  max-height: calc(100vh - 220px); /* roughly like your old table */
  position:relative;
}

/* BLOCK: TABLE STYLING */
table{width:100%; border-collapse:collapse; font-size:.9rem; min-width: 100px; position:relative;}
thead{background:#039591; color:#fff; position:sticky; top:0; z-index:8;}
th,td{padding:10px 12px; text-align:center; white-space:nowrap; position:relative;}


tbody td:nth-child(3){ color:#000; background:inherit; }

/* Alternate row colors + light 3D look (same vibe) */
tbody tr:nth-child(odd) td {
  background:#e6f7ff; box-shadow:inset 0px 1px 2px rgba(0,0,0,0.08);
}
tbody tr:nth-child(even) td {
  background:#cceeff; box-shadow:inset 0px 1px 2px rgba(0,0,0,0.08);
}

/* BLOCK: HIGHLIGHT (kept for future use) */
.highlighted td{ background-color:#2ecc71 !important; font-weight:bold; }

/* BLOCK: LOADER */
.loader-overlay{
  position:fixed; inset:0; background:rgba(255,255,255,.85);
  display:flex; align-items:center; justify-content:center;
  z-index: 9999;
}
.loader-container{text-align:center;}
.loader-bars{display:flex;justify-content:center;align-items:flex-end;height:80px;margin-bottom:15px;}
.loader-bars span{width:8px;height:20px;margin:0 3px;background:#1abc9c;animation:grow 1s infinite;}
.loader-bars span:nth-child(2){animation-delay:0.2s;background:#3498db;}
.loader-bars span:nth-child(3){animation-delay:0.4s;background:#9b59b6;}
.loader-bars span:nth-child(4){animation-delay:0.6s;background:#e74c3c;}
@keyframes grow{0%,100%{height:20px;}50%{height:60px;}}
.loading-text{font-size:18px;font-weight:bold;color:#444;font-family:Arial,sans-serif;}
/* dots */
#dots{display:inline-block; min-width: 10px}

/* BLOCK: HORIZONTAL SCROLLER (snap slides) */
.scroller{
  display:flex; overflow-x:auto; gap: 16px;
  scroll-snap-type:x mandatory;
  -webkit-overflow-scrolling:touch;
  scroll-behavior:smooth;
  padding: 12px 0 6px 0; /* thoda upar nav se spacing */
}
.slide{
  flex: 0 0 100%;
  scroll-snap-align: center;
  /* lil bounce on entry */
  transform-origin:center;
}
.slide.bounce-in{
  animation: bounceIn .5s ease-out;
}
@keyframes bounceIn{
  0%   { transform: scale(.985) translateY(2px); }
  60%  { transform: scale(1.005) translateY(-2px); }
  100% { transform: scale(1) translateY(0); }
}

/* BLOCK: MEDIA QUERIES */
@media (max-width:600px){
  header{font-size:1.2rem;padding:.8rem;}
  th,td{padding:6px;font-size:.85rem;}
}

/* ---- Bottom Navigation (unchanged) ---- */
.bottom-nav {
  position: fixed; bottom: 0; left: 0; right: 0; height: 70px;
  background: linear-gradient(90deg, #039591, #83eae7);
  display: flex; justify-content: space-around; align-items: center;
  box-shadow: 0 -3px 10px rgba(0,0,0,0.3); z-index: 998; padding: 5px 0;
}
.nav-btn {
  flex: 1; margin: 0 5px; text-align: center; color: white; font-size: .85rem;
  text-decoration: none; display: flex; flex-direction: column; align-items: center;
  background: linear-gradient(145deg, #04a39d, #028782); border-radius: 12px;
  box-shadow: 0 4px 6px rgba(0,0,0,0.3), inset 0 -2px 4px rgba(255,255,255,0.2);
  padding: 6px 4px; transition: all .2s ease;
}
.nav-btn:hover { transform: translateY(-4px); box-shadow: 0 6px 10px rgba(0,0,0,0.4), inset 0 -2px 4px rgba(255,255,255,0.2); }
.nav-btn:active { transform: translateY(2px); background: linear-gradient(145deg, #ffb703, #e09a00); color:#222; font-weight:bold; box-shadow: inset 0 3px 6px rgba(0,0,0,0.4); }
.nav-icon { font-size: 1.5rem; margin-bottom: 2px; }
.nav-text { font-size: .75rem; font-weight: 600; }


/*width control */
th, td {
  border: 0px solid #ccc;
  padding: 8px;
  text-align: center;
}

/* 3rd column (Name) ka width control */
table th:nth-child(3),
table td:nth-child(3) {
  width: auto; /* yahan apni marzi ka size dalna */
}

/* Name column left align */
table th:nth-child(3),
table td:nth-child(3) {
  text-align: left;
  padding-left: 10px;
}

/* Dots indicator styling */
.slider-dots {
  text-align: center;
  margin: 14px 0 80px 0; /* bottom nav ke upar space */
}

.dot {
  display: inline-block;
  width: 10px;
  height: 10px;
  margin: 0 6px;
  background: #ccc;
  border-radius: 50%;
  transition: all 0.3s ease;
}

.dot.active {
  background: #039591;   /* active color */
  transform: scale(1.3); /* thoda bada */
}


/* Sare table ke cells ke liye */
table td {
  font-size: 12px;   /* bara font */
  font-weight: bold; /* bold text */
  padding: 10px;     /* thoda spacing achi lagti hai */
}

</style>
<!-- ============================
   BLOCK: CSS STYLES END
============================ -->
</head>
<body>

<!-- ============================
   HEADER (unchanged look)
============================ -->
<header>CTCT Weekly Series Top 10</header>

<!-- ============================
   HORIZONTAL SCROLLER WITH 6 TABLES
============================ -->
<div id="slides" class="scroller">

  <!-- Slide 1: TOP 10 BATSMENS -->
  <section class="slide" data-key="batsmen">
    <div class="band">TOP 10 BATSMENS</div>
    <div class="table-card">
      <table>
        <thead><tr><th>Rank</th><th>ID</th><th>Name</th><th>Rating</th></tr></thead>
        <tbody id="tb-batsmen"></tbody>
      </table>
    </div>
  </section>

  <!-- Slide 2: TOP 10 BOWLERS -->
  <section class="slide" data-key="bowlers">
    <div class="band">TOP 10 BOWLERS</div>
    <div class="table-card">
      <table>
        <thead><tr><th>Rank</th><th>ID</th><th>Name</th><th>Rating</th></tr></thead>
        <tbody id="tb-bowlers"></tbody>
      </table>
    </div>
  </section>

  <!-- Slide 3: TOP 10 POWER HITTERS -->
  <section class="slide" data-key="power">
    <div class="band">TOP 10 POWER HITTERS</div>
    <div class="table-card">
      <table>
        <thead><tr><th>Rank</th><th>ID</th><th>Name</th><th>S/R</th></tr></thead>
        <tbody id="tb-power"></tbody>
      </table>
    </div>
  </section>

  <!-- Slide 4: TOP 10 SIXERS -->
  <section class="slide" data-key="sixers">
    <div class="band">TOP 10 SIXERS</div>
    <div class="table-card">
      <table>
        <thead><tr><th>Rank</th><th>ID</th><th>Name</th><th>Sixes</th></tr></thead>
        <tbody id="tb-sixers"></tbody>
      </table>
    </div>
  </section>

  <!-- Slide 5: TOP 10 ECONOMIST -->
  <section class="slide" data-key="economy">
    <div class="band">TOP 10 ECONOMIST</div>
    <div class="table-card">
      <table>
        <thead><tr><th>Rank</th><th>ID</th><th>Name</th><th>Econmy</th></tr></thead>
        <tbody id="tb-economy"></tbody>
      </table>
    </div>
  </section>



</div>



<!-- ============================
   LOADER OVERLAY (global)
============================ -->
<div id="loader" class="loader-overlay" aria-live="polite">
  <div class="loader-container">
    <div class="loader-bars"><span></span><span></span><span></span><span></span></div>
    <div class="loading-text">Data Loading Please wait<span id="dots"></span></div>
  </div>
</div>

<!-- Slider indicator -->
<div class="slider-dots">
  <span class="dot active"></span>
  <span class="dot"></span>
  <span class="dot"></span>
  <span class="dot"></span>
  <span class="dot"></span>
</div>



<!-- ============================
   Bottom Navigation (as-is)
============================ -->
<nav class="bottom-nav" role="navigation" aria-label="Primary">
  <a href="index.html" class="nav-btn"><span class="nav-icon">üè†</span><span class="nav-text">Home</span></a>
  <a href="score.html" class="nav-btn"><span class="nav-icon">üìã</span><span class="nav-text">ScoreBrd</span></a>
  <a href="live.html" class="nav-btn"><span class="nav-icon">üî¥</span><span class="nav-text">LiveBrd</span></a>
  <a href="most.html" class="nav-btn"><span class="nav-icon">ü•á</span><span class="nav-text">MostRcrd</span></a>
  <a href="summary.html" class="nav-btn"><span class="nav-icon">üèÜ</span><span class="nav-text">Summary</span></a>
</nav>
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
<script>
/* loader dots */
let dots=document.getElementById("dots");let count=0;
setInterval(()=>{count=(count+1)%6;if(dots)dots.textContent=".".repeat(count);},500);

/* ---- CSV link aur ranges ---- */
const csvUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vR5j47A7REtFvOkz-VJVTwSRn42lhX7HYjBQu7ytPJoXpuxuhius5_rWJ5em19ryEck6W5n25lpzpyq/pub?gid=954591956&single=true&output=csv";

const RANGES = {
  batsmen : "B6:E15",
  bowlers : "G6:J15",
  power   : "L6:O15",
  sixers  : "Q6:T15",
  economy : "V6:Y15",
};

/* --- helper: convert A1 range to indices --- */
function parseRange(range) {
  const [startCell, endCell] = range.split(":");
  function colLetterToIndex(letter) {
    let col = 0;
    for (let i = 0; i < letter.length; i++) {
      col = col * 26 + (letter.toUpperCase().charCodeAt(i) - 64);
    }
    return col - 1;
  }
  const getCol = c => colLetterToIndex(c.match(/[A-Z]+/i)[0]);
  const getRow = r => parseInt(r.match(/\d+/)[0], 10) - 1;

  return {
    rowStart: getRow(startCell),
    rowEnd  : getRow(endCell) + 1,
    colStart: getCol(startCell),
    colEnd  : getCol(endCell) + 1
  };
}

/* --- load and fill all tables --- */
function loadAllTables() {
  Papa.parse(csvUrl, {
    download: true,
    header: false,
    complete: function(results) {
      const data = results.data;
      fillTableFromRange("tb-batsmen", data, RANGES.batsmen);
      fillTableFromRange("tb-bowlers", data, RANGES.bowlers);
      fillTableFromRange("tb-power"  , data, RANGES.power);
      fillTableFromRange("tb-sixers" , data, RANGES.sixers);
      fillTableFromRange("tb-economy", data, RANGES.economy);
      hideLoader(); primeBounce();
    },
    error: function(err){
      console.error(err);
      hideLoader(); primeBounce();
    }
  });
}

function fillTableFromRange(tbodyId, grid, rangeStr){
  const tbody = document.getElementById(tbodyId);
  if (!tbody) return;
  tbody.innerHTML = "";
  const {rowStart,rowEnd,colStart,colEnd} = parseRange(rangeStr);
  const rows = grid.slice(rowStart, rowEnd).map(r => r.slice(colStart, colEnd));
  rows.forEach(r=>{
    const tr = document.createElement("tr");
    [r[0],r[1],r[2],r[3]].forEach(c=>{
      const td = document.createElement("td");
      td.textContent = c ?? "";
      tr.appendChild(td);
    });
    tbody.appendChild(tr);
  });
}

/* loader helpers */
function hideLoader(){
  const ld=document.getElementById("loader");
  if (ld){
    ld.style.opacity="0";
    setTimeout(()=> ld.style.display="none",300);
  }
}

/* dots for slider */
function primeBounce(){
  const slides = Array.from(document.querySelectorAll(".slide"));
  const scroller = document.getElementById("slides");
  const dots = document.querySelectorAll(".dot");
  slides[0]?.classList.add("bounce-in");
  dots[0]?.classList.add("active");

  scroller.addEventListener("scroll", ()=>{
    const rect = scroller.getBoundingClientRect();
    let bestIndex=0, bestDelta=Infinity;
    slides.forEach((s,idx)=>{
      const r = s.getBoundingClientRect();
      const centerDelta = Math.abs((r.left+r.right)/2 - (rect.left+rect.right)/2);
      if (centerDelta < bestDelta) { bestIndex = idx; bestDelta = centerDelta; }
    });
    dots.forEach(d=>d.classList.remove("active"));
    dots[bestIndex]?.classList.add("active");
  }, {passive:true});
}

/* init */
loadAllTables();
</script>

</script>



</body>
</html>
